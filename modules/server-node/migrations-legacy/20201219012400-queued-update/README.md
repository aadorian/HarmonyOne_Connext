# Migration `20201219012400-queued-update`

This migration has been generated by LayneHaber at 12/18/2020, 6:24:00 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "QueuedUpdate" (
    "id" TEXT NOT NULL,
    "type" TEXT NOT NULL,
    "channelAddress" TEXT NOT NULL,
    "updateData" TEXT NOT NULL,
    "status" TEXT NOT NULL,
    "context" TEXT,

    PRIMARY KEY ("id")
)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201118004412-defund-array..20201219012400-queued-update
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,12 @@
 generator client {
-  provider        = "prisma-client-js"
-  previewFeatures = ["connectOrCreate"]
-  binaryTargets   = ["native"]
+  provider      = "prisma-client-js"
+  binaryTargets = ["native"]
 }
 datasource db {
   provider = ["postgresql", "sqlite"]
-  url = "***"
+  url = "***"
 }
 model Balance {
   participant      String
@@ -23,24 +22,24 @@
   @@map(name: "balance")
 }
 model Channel {
-  channelAddress           String    @id
-  publicIdentifierA        String
-  publicIdentifierB        String
-  participantA             String
-  participantB             String
-  assetIds                 String
-  timeout                  String
-  nonce                    Int
-  merkleRoot               String
-  balances                 Balance[]
-  channelFactoryAddress    String
-  transferRegistryAddress  String
-  chainId                  String
-  providerUrl              String
-  latestUpdate             Update?
-  inDispute                Boolean
+  channelAddress          String    @id
+  publicIdentifierA       String
+  publicIdentifierB       String
+  participantA            String
+  participantB            String
+  assetIds                String
+  timeout                 String
+  nonce                   Int
+  merkleRoot              String
+  balances                Balance[]
+  channelFactoryAddress   String
+  transferRegistryAddress String
+  chainId                 String
+  providerUrl             String
+  latestUpdate            Update?
+  inDispute               Boolean
   activeTransfers Transfer[]
   OnchainTransaction OnchainTransaction[]
@@ -72,9 +71,9 @@
   // DETAILS
   // deposit details
   totalDepositsAlice String?
-  totalDepositsBob String?
+  totalDepositsBob   String?
   // create details
   transferAmountA      String?
   transferAmountB      String?
@@ -102,9 +101,9 @@
   @@map(name: "update")
 }
 model Transfer {
-  transferId String @id
+  transferId String  @id
   routingId  String
   inDispute  Boolean
   createUpdate  Update? @relation(name: "CreatedTransfer", fields: [createUpdateChannelAddressId, createUpdateNonce], references: [channelAddressId, nonce])
@@ -193,4 +192,14 @@
   publicIdentifier String @unique
   @@map(name: "node_index")
 }
+
+// Router Models
+model QueuedUpdate {
+  id             String @id @default(uuid())
+  type           String
+  channelAddress String
+  updateData     String
+  status         String
+  context        String?
+}
```


